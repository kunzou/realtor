<div *ngIf="property">
    <div fxLayout="row" fxLayoutAlign="center center" class="container">
        <div style="max-width: 900px;">
            <mat-card-header>
                <div style="text-align: center;" *ngIf="property.primaryImage">
                    <img mat-card-image src="{{property.primaryImage.link}}" alt="{{property.address}}">
                </div>
            </mat-card-header>
            <mat-card-content>
                <mat-checkbox color="primary" [(ngModel)]="property.hide">Hide from list</mat-checkbox>
                <p></p>
                <mat-form-field>
                    <mat-label>House Type</mat-label>
                    <mat-select [(ngModel)]="property.propertyType" name="propertyType">
                        <mat-option *ngFor="let propertyType of propertyTypes" [value]="propertyType">
                            {{propertyType}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Status</mat-label>
                    <mat-select [(ngModel)]="property.propertyStatus" name="propertyStatus">
                        <mat-option *ngFor="let propertyStatus of propertyStatuses" [value]="propertyStatus">
                            {{propertyStatus}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>                

                <mat-form-field>
                    <input matInput placeholder="Property Address" [(ngModel)]="property.address" required
                        name="address">
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Built in" [(ngModel)]="property.yearBuilt" name="yearBuilt">
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Size" [(ngModel)]="property.area" name="area">
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Number of Rooms" [(ngModel)]="property.numberOfRooms"
                        name="numberOfRooms">
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Number of Washroom" [(ngModel)]="property.numberOfWashrooms"
                        name="numberOfWashRooms">
                </mat-form-field>                

                <mat-form-field>
                    <input matInput placeholder="Ask price" [(ngModel)]="property.askingPrice" name="askingPrice">
                    <span matPrefix>$&nbsp;</span>
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Sold price" [(ngModel)]="property.finalPrice" name="finalPrice">
                    <span matPrefix>$&nbsp;</span>
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Tag" [(ngModel)]="property.tag" name="tag">
                </mat-form-field>
                
                <mat-form-field>
                    <input matInput placeholder="Neighborhood" [(ngModel)]="property.neighborhood" name="neighborhood">
                </mat-form-field>                

                <p></p>
                <mat-form-field>
                    <input matInput [matDatepicker]="picker" placeholder="On Market Since"
                        [(ngModel)]="property.onMarketSince">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>

                <p></p>
                <mat-form-field>
                    <div class="textarea-container">
                        <textarea matInput cdkTextareaAutosize cdkAutosizeMaxRows="6" #autosize="cdkTextareaAutosize"
                            placeholder="Description" [(ngModel)]="property.description"></textarea>
                    </div>
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Comments on Map" [(ngModel)]="property.aboutPageComment" name="aboutPageComment">
                </mat-form-field>   
                
                <mat-form-field>
                    <input matInput placeholder="YouTube link" [(ngModel)]="property.youtubeLink" name="youtubeLink">
                </mat-form-field>                   

                
                <br>

                <div style="text-align:center; margin-top: 10px; ">
                    <mat-card style="margin-top:10px; width: 50%;">
                        <mat-card-content>
                            <ul>
                                <li *ngFor="let file of files">
                                    <mat-progress-bar [value]="file.progress"></mat-progress-bar>
                                    <span id="file-label">
                                    </span>
                                </li>
                            </ul>
                        </mat-card-content>
                        <mat-card-actions>
                            <button mat-button color="warn" (click)="uploadPrimary()">
                                <mat-icon>file_upload</mat-icon>
                                Upload primary photo
                            </button>
                            <button mat-button (click)="uploadAdditional()">
                                <mat-icon>file_upload</mat-icon>
                                Upload additional photos
                            </button>
                        </mat-card-actions>
                    </mat-card><input type="file" #fileUpload id="fileUpload" name="fileUpload" multiple="multiple"
                        accept="image/*" style="display:none;" />
                </div>

                <br>

                <mat-grid-list cols="4" rowHeight="16:9">
                    <mat-grid-tile *ngFor='let image of property.addtionalImages'>
                        <img [src]='image.link' class="additional-images">
                    </mat-grid-tile>
                </mat-grid-list>

            </mat-card-content>
            <mat-card-actions>
                <button mat-raised-button color="primary" (click)="save()">Save</button>
                <button mat-raised-button color="secondary" (click)="goBack()">Go back</button>
                <button mat-raised-button color="secondary" (click)="delete()">Delete</button>
            </mat-card-actions>
        </div>
        <!-- </div> -->
    </div>
</div>
<!-- 
<div>
    <app-rich-text-area></app-rich-text-area>
</div> -->
